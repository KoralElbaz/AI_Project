<div class="dashboard-container">
  <div class="dashboard-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-content">
        <!-- ××™×“×¢ -->
        <div class="menu-category">
          <div class="category-header">××™×“×¢</div>
          <div class="menu-item active" (click)="navigateToDashboard()">
            <span class="menu-icon">ğŸ </span>
            <span class="menu-text">×œ×•×‘×™ ×©×§×™×</span>
          </div>
          <div class="menu-item" (click)="navigateToIncomingChecks()">
            <span class="menu-icon">ğŸ“¥</span>
            <span class="menu-text">×©×§×™× × ×›× ×¡×™×</span>
          </div>
          <div class="menu-item" (click)="navigateToOutgoingChecks()">
            <span class="menu-icon">ğŸ“¤</span>
            <span class="menu-text">×©×§×™× ×™×•×¦××™×</span>
          </div>
        </div>

        <!-- ×¤×¢×•×œ×•×ª -->
        <div class="menu-category">
          <div class="category-header">×¤×¢×•×œ×•×ª</div>
          <div class="menu-item" (click)="navigateToCreateCheck()">
            <span class="menu-icon">âœï¸</span>
            <span class="menu-text">×›×ª×™×‘×ª ×©×™×§ ×“×™×’×™×˜×œ×™ ×—×“×©</span>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Account Selector -->
      <div class="account-selector">
        <div class="account-info">
          <div class="account-name">
            0136816225 ×¤××— ×“×‘×•×¨ ×§×§ ×‘×¢"×
          </div>
          <div class="balance-info">
            <div class="balance-label">×™×ª×¨×” ×‘×—×©×‘×•×Ÿ</div>
            <div class="balance-amount">1,060,685,996.00 â‚ª</div>
          </div>
        </div>
      </div>


      <!-- Loading State -->
      <div class="loading-container" *ngIf="isLoading">
        <div class="loading-spinner"></div>
        <p>×˜×•×¢×Ÿ × ×ª×•× ×™ ×“×©×‘×•×¨×“...</p>
      </div>

      <!-- Error State -->
      <div class="error-container" *ngIf="error">
        <div class="error-message">
          <span class="error-icon">âš ï¸</span>
          <p>{{ error }}</p>
          <button class="retry-btn" (click)="loadDashboardStats()">× ×¡×” ×©×•×‘</button>
        </div>
      </div>

      <!-- Dashboard Content -->
      <div class="dashboard-content" *ngIf="!isLoading && !error">
        <!-- Outgoing Checks Section -->
        <section class="checks-section">
          <div class="section-header" (click)="navigateToOutgoingChecks()">
            <div class="section-title">
              <div class="title-line red"></div>
              <h2>×©×™×§×™× ×™×•×¦××™×</h2>
              <span class="arrow">â†’</span>
            </div>
          </div>

          <div class="stats-grid">
            <!-- ×¡×”×´×› ×¤×ª×•×—×™× -->
            <div class="stat-card pending">
              <div class="stat-icon">â°</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatCurrency(stats.outgoing.total_amount) }}</div>
                <div class="stat-label">{{ formatNumber(stats.outgoing.pending_count) }} ×©×§×™×</div>
              </div>
            </div>

            <!-- ××’×™×¢×™× ×”×©×‘×•×¢ -->
            <div class="stat-card warning">
              <div class="stat-icon">âš ï¸</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.due_this_week) }}</div>
                <div class="stat-label">×©×™×§×™× ×©×™×¤×¨×¢×• ×‘×©×‘×•×¢ ×”×§×¨×•×‘</div>
              </div>
            </div>

            <!-- ××’×™×¢×™× ×”×—×•×“×© -->
            <div class="stat-card info">
              <div class="stat-icon">ğŸ“…</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.due_this_month) }}</div>
                <div class="stat-label">×©×™×§×™× ×©×™×¤×¨×¢×• ×‘×—×•×“×© ×”×§×¨×•×‘</div>
              </div>
            </div>

            <!-- ×©×§×™× ×©×—×–×¨×• -->
            <div class="stat-card danger">
              <div class="stat-icon">âŒ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.bounced_count) }}</div>
                <div class="stat-label">×“×•×¨×© ×˜×™×¤×•×œ</div>
              </div>
            </div>
          </div>

          <!-- Pie Chart for Outgoing -->
          <div class="chart-container">
            <h3>×—×œ×•×§×ª ×¡×˜×˜×•×¡×™× - ×©×§×™× ×™×•×¦××™×</h3>
            <div class="pie-chart">
              <div class="chart-center">
                <div class="center-number">{{ formatNumber(stats.outgoing.pending_count + 20) }} ×¡×”×´×›</div>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <div class="legend-color pending"></div>
                  <span>×××ª×™×Ÿ ×œ×¤×™×¨×¢×•×Ÿ 28%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color cleared"></div>
                  <span>× ×¤×¨×¢ 69%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color bounced"></div>
                  <span>× ×“×—×” 3%</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Incoming Checks Section -->
        <section class="checks-section">
          <div class="section-header" (click)="navigateToIncomingChecks()">
            <div class="section-title">
              <div class="title-line green"></div>
              <h2>×©×™×§×™× × ×›× ×¡×™×</h2>
              <span class="arrow">â†’</span>
            </div>
          </div>

          <div class="stats-grid">
            <!-- ×××ª×™× ×™× ×œ×”×¤×§×“×” -->
            <div class="stat-card success">
              <div class="stat-icon">ğŸ“‹</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatCurrency(stats.incoming.waiting_deposit_amount) }}</div>
                <div class="stat-label">{{ formatNumber(stats.incoming.waiting_deposit_count) }} ×©×§×™×</div>
              </div>
            </div>

            <!-- ×”×•×¤×§×“×• -->
            <div class="stat-card purple">
              <div class="stat-icon">ğŸ“ˆ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.deposited_count) }}</div>
                <div class="stat-label">×××ª×™× ×™× ×œ×¤×™×¨×¢×•×Ÿ</div>
              </div>
            </div>

            <!-- × ×¤×¨×¢×• -->
            <div class="stat-card success">
              <div class="stat-icon">âœ…</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.cleared_count) }}</div>
                <div class="stat-label">×›×‘×¨ ×‘×—×©×‘×•×Ÿ</div>
              </div>
            </div>

            <!-- ×©×§×™× ×©×—×–×¨×• -->
            <div class="stat-card danger">
              <div class="stat-icon">âŒ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.bounced_count) }}</div>
                <div class="stat-label">×“×•×¨×© ×˜×™×¤×•×œ</div>
              </div>
            </div>
          </div>

          <!-- Pie Chart for Incoming -->
          <div class="chart-container">
            <h3>×—×œ×•×§×ª ×¡×˜×˜×•×¡×™× - ×©×§×™× × ×›× ×¡×™×</h3>
            <div class="pie-chart">
              <div class="chart-center">
                <div class="center-number">{{ formatNumber(stats.incoming.waiting_deposit_count + stats.incoming.deposited_count + stats.incoming.cleared_count) }} ×¡×”×´×›</div>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <div class="legend-color waiting"></div>
                  <span>×××ª×™×Ÿ ×œ×”×¤×§×“×” 16%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color deposited"></div>
                  <span>×”×•×¤×§×“ 11%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color cleared"></div>
                  <span>× ×¤×¨×¢ 71%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color bounced"></div>
                  <span>× ×“×—×” 2%</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>
</div>


