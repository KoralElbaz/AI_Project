<div class="dashboard-container">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="logo-section">
        <h1 class="main-title">× ×™×”×•×œ ×©×§×™×</h1>
        <div class="divider"></div>
        <div class="discount-logo">×“×™×¡×§×•× ×˜</div>
      </div>
      
      <div class="header-actions">
        <button class="icon-btn" title="×—×™×¤×•×©">
          <span class="icon">ğŸ”</span>
        </button>
        <button class="icon-btn notification-btn" title="×”×ª×¨××•×ª">
          <span class="icon">ğŸ””</span>
          <span class="notification-dot"></span>
        </button>
        <button class="icon-btn notification-btn" title="×”×•×“×¢×•×ª">
          <span class="icon">ğŸ“§</span>
          <span class="notification-dot"></span>
        </button>
        <button class="icon-btn" title="×”×’×“×¨×•×ª">
          <span class="icon">âš™ï¸</span>
        </button>
        <button class="icon-btn" title="× ×’×™×©×•×ª">
          <span class="icon">â™¿</span>
        </button>
        <button class="icon-btn" title="×©×™×¨×•×ª ×œ×§×•×—×•×ª">
          <span class="icon">ğŸ’¬</span>
        </button>
        <button class="logout-btn" (click)="logout()">
          ×™×¦×™××” â†
        </button>
      </div>
    </div>
  </header>

  <div class="dashboard-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-content">
        <!-- ××™×“×¢ -->
        <div class="menu-category">
          <div class="category-header">××™×“×¢</div>
          <div class="menu-item active" (click)="navigateToDashboard()">
            <span class="menu-icon">ğŸ </span>
            <span class="menu-text">×œ×•×‘×™ ×©×§×™×</span>
          </div>
          <div class="menu-item" (click)="navigateToIncomingChecks()">
            <span class="menu-icon">ğŸ“¥</span>
            <span class="menu-text">×©×§×™× × ×›× ×¡×™×</span>
          </div>
          <div class="menu-item" (click)="navigateToOutgoingChecks()">
            <span class="menu-icon">ğŸ“¤</span>
            <span class="menu-text">×©×§×™× ×™×•×¦××™×</span>
          </div>
        </div>

        <!-- ×¤×¢×•×œ×•×ª -->
        <div class="menu-category">
          <div class="category-header">×¤×¢×•×œ×•×ª</div>
          <div class="menu-item" (click)="navigateToCreateCheck()">
            <span class="menu-icon">âœï¸</span>
            <span class="menu-text">×›×ª×™×‘×ª ×©×™×§ ×“×™×’×™×˜×œ×™ ×—×“×©</span>
          </div>
          <div class="menu-item">
            <span class="menu-icon">ğŸ“‹</span>
            <span class="menu-text">×—×•××ª ×¤× ×§×¡×™ ×©×™×§×™×</span>
          </div>
          <div class="menu-item">
            <span class="menu-icon">ğŸ”„</span>
            <span class="menu-text">×”×¤×¢×œ×” ×¤× ×§×¡×™ ×©×™×§×™×</span>
          </div>
          <div class="menu-item">
            <span class="menu-icon">âŒ</span>
            <span class="menu-text">×‘×™×˜×•×œ ×¤× ×§×¡×™ ×©×™×§×™× ×©×”×•×–×× ×•</span>
          </div>
          <div class="menu-item">
            <span class="menu-icon">ğŸš«</span>
            <span class="menu-text">×‘×™×˜×•×œ ×©×™×§×™×</span>
          </div>
          <div class="menu-item">
            <span class="menu-icon">ğŸ“Š</span>
            <span class="menu-text">××©×™×›×ª ×©×™×§×™× ×“×—×•×™×™×</span>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Account Selector -->
      <div class="account-selector">
        <div class="account-info">
          <div class="account-dropdown">
            <select class="account-select">
              <option value="1">0136816225 ×¤××— ×“×‘×•×¨ ×§×§ ×‘×¢"×</option>
            </select>
          </div>
          <div class="balance-info">
            <div class="balance-label">×™×ª×¨×” ×›×•×œ×œ×ª (×ª×¢×•×“×•×ª ×›×•×œ×œ ×× ×’× ×•×Ÿ)</div>
            <div class="balance-amount">1,060,685,996.00 â‚ª</div>
            <a href="#" class="credit-link">××¡×’×¨×ª ××©×¨××™</a>
          </div>
        </div>
      </div>

      <!-- Filters Bar -->
      <div class="filters-bar">
        <div class="filter-left">
          <button class="filter-btn active">×¤×™×¨×•×˜</button>
          <button class="filter-btn">×¨×™×›×•×–</button>
        </div>
        <div class="filter-right">
          <button class="filter-btn secondary">
            <span class="icon">ğŸ”</span>
            ×—×™×¤×•×© ××ª×§×“×
          </button>
          <button class="filter-btn primary">
            <span class="icon">ğŸ“¥</span>
            ×©××™×¨×” ×•×”×“×¤×¡×”
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div class="loading-container" *ngIf="isLoading">
        <div class="loading-spinner"></div>
        <p>×˜×•×¢×Ÿ × ×ª×•× ×™ ×“×©×‘×•×¨×“...</p>
      </div>

      <!-- Error State -->
      <div class="error-container" *ngIf="error">
        <div class="error-message">
          <span class="error-icon">âš ï¸</span>
          <p>{{ error }}</p>
          <button class="retry-btn" (click)="loadDashboardStats()">× ×¡×” ×©×•×‘</button>
        </div>
      </div>

      <!-- Dashboard Content -->
      <div class="dashboard-content" *ngIf="!isLoading && !error">
        <!-- Outgoing Checks Section -->
        <section class="checks-section">
          <div class="section-header" (click)="navigateToOutgoingChecks()">
            <div class="section-title">
              <div class="title-line red"></div>
              <h2>×©×™×§×™× ×™×•×¦××™×</h2>
              <span class="arrow">â†’</span>
            </div>
            <p class="section-subtitle">(×ª×©×œ×•××™× ×œ×¡×¤×§×™×)</p>
          </div>

          <div class="stats-grid">
            <!-- ×¡×”×´×› ×¤×ª×•×—×™× -->
            <div class="stat-card pending">
              <div class="stat-icon">â°</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatCurrency(stats.outgoing.total_amount) }}</div>
                <div class="stat-label">{{ formatNumber(stats.outgoing.pending_count) }} ×©×§×™×</div>
              </div>
            </div>

            <!-- ××’×™×¢×™× ×”×©×‘×•×¢ -->
            <div class="stat-card warning">
              <div class="stat-icon">âš ï¸</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.due_this_week) }}</div>
                <div class="stat-label">×“×•×¨×©×™× ×ª×©×•××ª ×œ×‘</div>
              </div>
            </div>

            <!-- ××’×™×¢×™× ×”×—×•×“×© -->
            <div class="stat-card info">
              <div class="stat-icon">ğŸ“…</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.due_this_month) }}</div>
                <div class="stat-label">×ª×–×¨×™× ×¦×¤×•×™</div>
              </div>
            </div>

            <!-- ×©×§×™× ×©×—×–×¨×• -->
            <div class="stat-card danger">
              <div class="stat-icon">âŒ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.outgoing.bounced_count) }}</div>
                <div class="stat-label">×“×•×¨×© ×˜×™×¤×•×œ</div>
              </div>
            </div>
          </div>

          <!-- Pie Chart for Outgoing -->
          <div class="chart-container">
            <h3>×—×œ×•×§×ª ×¡×˜×˜×•×¡×™× - ×©×§×™× ×™×•×¦××™×</h3>
            <div class="pie-chart">
              <div class="chart-center">
                <div class="center-number">{{ formatNumber(stats.outgoing.pending_count + 20) }} ×¡×”×´×›</div>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <div class="legend-color pending"></div>
                  <span>×××ª×™×Ÿ ×œ×¤×™×¨×¢×•×Ÿ 28%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color cleared"></div>
                  <span>× ×¤×¨×¢ 69%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color bounced"></div>
                  <span>× ×“×—×” 3%</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Incoming Checks Section -->
        <section class="checks-section">
          <div class="section-header" (click)="navigateToIncomingChecks()">
            <div class="section-title">
              <div class="title-line green"></div>
              <h2>×©×™×§×™× × ×›× ×¡×™×</h2>
              <span class="arrow">â†’</span>
            </div>
            <p class="section-subtitle">(×ª×©×œ×•××™× ××œ×§×•×—×•×ª)</p>
          </div>

          <div class="stats-grid">
            <!-- ×××ª×™× ×™× ×œ×”×¤×§×“×” -->
            <div class="stat-card success">
              <div class="stat-icon">ğŸ“‹</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatCurrency(stats.incoming.waiting_deposit_amount) }}</div>
                <div class="stat-label">{{ formatNumber(stats.incoming.waiting_deposit_count) }} ×©×§×™×</div>
              </div>
            </div>

            <!-- ×”×•×¤×§×“×• -->
            <div class="stat-card purple">
              <div class="stat-icon">ğŸ“ˆ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.deposited_count) }}</div>
                <div class="stat-label">×××ª×™× ×™× ×œ×¤×™×¨×¢×•×Ÿ</div>
              </div>
            </div>

            <!-- × ×¤×¨×¢×• -->
            <div class="stat-card success">
              <div class="stat-icon">âœ…</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.cleared_count) }}</div>
                <div class="stat-label">×›×‘×¨ ×‘×—×©×‘×•×Ÿ</div>
              </div>
            </div>

            <!-- ×©×§×™× ×©×—×–×¨×• -->
            <div class="stat-card danger">
              <div class="stat-icon">âŒ</div>
              <div class="stat-content">
                <div class="stat-value">{{ formatNumber(stats.incoming.bounced_count) }}</div>
                <div class="stat-label">×“×•×¨×© ×˜×™×¤×•×œ</div>
              </div>
            </div>
          </div>

          <!-- Pie Chart for Incoming -->
          <div class="chart-container">
            <h3>×—×œ×•×§×ª ×¡×˜×˜×•×¡×™× - ×©×§×™× × ×›× ×¡×™×</h3>
            <div class="pie-chart">
              <div class="chart-center">
                <div class="center-number">{{ formatNumber(stats.incoming.waiting_deposit_count + stats.incoming.deposited_count + stats.incoming.cleared_count) }} ×¡×”×´×›</div>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <div class="legend-color waiting"></div>
                  <span>×××ª×™×Ÿ ×œ×”×¤×§×“×” 16%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color deposited"></div>
                  <span>×”×•×¤×§×“ 11%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color cleared"></div>
                  <span>× ×¤×¨×¢ 71%</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color bounced"></div>
                  <span>× ×“×—×” 2%</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>
</div>
